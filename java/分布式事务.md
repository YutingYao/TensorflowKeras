## 什么是分布式事务？

【多个事务】分布在不同的【计算机节点】上，导致了【数据一致性】的问题。

## 什么是分布式事务？

事务的参与者、支持事务的服务器、资源服务器、事务管理器，分别位于【分布式系统】的不同节点上。


## 有哪些分布式事务的场景？

比如，大型的电商系统中【下单场景】，会涉及到【扣库存，优惠促销计算、订单ID生成】，通常【库存、促销、主键】都位于不同的【服务器】和【数据库表】中。那么【下单接口】的成功与否，不仅取决于【本地节点】的【数据库操作】，而且还依赖于【第三方系统】的一个结果。【分布式事务】就是保证这些操作，要么全部成功，要么全部失败。本质上，【分布式事务】就是保证不同【数据库】的【数据一致性】。


## 什么是分布式事务中【强一致】和【弱一致】的解决方案？

基于【CAP 定理】，对于上述情况产生的【分布式事务问题】，我们要么采用【强一致】方案，要么采用【弱一致】方案

## 什么是【强一致】方案：


指通过【第三方事务管理器】，来协调多个节点的事务保证多个节点的事务，达到同时成功，或者同时失败。此时，会引入【X/Open DTP】模型，提供的XA协议。基于【两阶段提交】或者【三阶段提交】的方式去实现。

## 【强一致】方案的缺点？

但是【全局事务管理器】中的【多个节点】任意一个节点在进行【事务提交确认】的时候。由于【网络通信延迟】，导致了【阻塞】，就会影响到【所有节点】的事务提交，而这个【阻塞过程】也会影响到用户的【请求线程】，这对用户的【体验】和【整体性能】影响非常大。

## 为什么要有【弱一致】性？

平衡【数据一致性】和【性能】。简单来说，就是损失掉【强一致性】，数据在【某一时刻】可能存在【数据不一致】的情形。当我们采用【强一致】方案，就相当于保证了整个数据的一致性，但会损失掉一部分性能。如果采用【弱一致】，那么在某一段时间内，数据可能存在不一致；但性能比【强一致性】要好。

## 【弱一致】性的解决方案？

① 使用【分布式】消息队列，来实现【最终一致性】

② 基于【TCC事务】，通过演进版本的【二阶段提交】实现最终一致性

③ 使用【Seata事务框架】，他提供了多种【事务模型】，比如【AT、XA、Saga、TCC】